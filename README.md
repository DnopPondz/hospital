# ThaiGov Portal

แอป Next.js สำหรับศูนย์บริการดิจิทัลภาครัฐที่มีฟอร์มติดต่อออนไลน์พร้อมระบบส่งอีเมลผ่าน SMTP

## การตั้งค่าอีเมลสำหรับฟอร์มติดต่อ

1. คัดลอกไฟล์ตัวอย่างสภาพแวดล้อม:

   ```bash
   cp .env.example .env.local
   ```

2. แก้ไขค่าตัวแปรใน `.env.local` ให้ตรงกับข้อมูล SMTP ของคุณ

   | ตัวแปร | ความหมาย |
   | --- | --- |
   | `SMTP_HOST` | โฮสต์ของเซิร์ฟเวอร์ SMTP เช่น `smtp.gmail.com` |
   | `SMTP_PORT` | พอร์ตของ SMTP (มักเป็น `587` สำหรับ TLS หรือ `465` สำหรับ SSL) |
   | `SMTP_SECURE` | ตั้งค่าเป็น `true` หากใช้พอร์ต 465 (SSL) มิฉะนั้นให้เป็น `false` |
   | `SMTP_USER` | ชื่อผู้ใช้หรืออีเมลที่ใช้เข้าสู่ระบบ SMTP |
   | `SMTP_PASS` | รหัสผ่านของบัญชี SMTP หรือ App Password |
   | `SMTP_FROM` *(ไม่บังคับ)* | อีเมลที่ใช้เป็นผู้ส่ง หากไม่กำหนดจะใช้ `SMTP_USER` |
   | `SMTP_FROM_NAME` *(ไม่บังคับ)* | ชื่อที่ต้องการให้แสดงเป็นผู้ส่ง |
   | `CONTACT_EMAIL_TO` | อีเมลปลายทางที่ต้องการรับข้อความจากฟอร์ม |

3. บันทึกไฟล์ `.env.local` และรีสตาร์ทเซิร์ฟเวอร์พัฒนา (ถ้ามีการรันอยู่)

เมื่อกำหนดค่าครบถ้วนแล้ว ฟอร์มติดต่อในหน้าเว็บจะเรียก API `/api/contact` เพื่อส่งอีเมลด้วยข้อมูลที่กรอกมา

## การพัฒนา

ติดตั้ง dependencies แล้วรันโหมดพัฒนา:

```bash
npm install
npm run dev
```

## การทดสอบการส่งอีเมล

หลังจากตั้งค่า SMTP แล้ว สามารถส่งข้อความจากแบบฟอร์มในหน้าเว็บไซต์ (ส่วน "ติดต่อศูนย์บริการภาครัฐ") เพื่อยืนยันว่าระบบส่งอีเมลทำงานได้จริง
